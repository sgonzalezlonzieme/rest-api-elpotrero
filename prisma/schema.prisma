// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

datasource db {
  provider = "postgresql"
  url = "postgresql://postgres:Maricuchi1@localhost:5432/elPotreroPg?schema=public"
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id Int @id @default(autoincrement())
  name String 
  userName String @unique
  gender Gender?
  dni Int @unique
  birthday String? //Fijarse el tipo de dato de Date, y hablarlo con el front.
  cellphone Int 
  mail String @unique//Ver si es unique para el ingreso o solo por name
  image String?
  password String //Fijarse en la documentaci√≥n que posibilidades hay 
  player Player @relation(fields: [playerId], references: [id])
  playerId Int
}

enum Gender {
  FEMALE 
  MALE
  UNDEFINED
}

model Player {
  id Int @id @default(autoincrement())
  position Position 
  qualification Stars //Ver porque el enum no toma numeros o sino un radio
  user User[] 
  team Team_Player[]
}

model Team {
  id Int @id @default(autoincrement())
  name String
  image String?
  qualifaction Stars //Ver porque el enum no toma numeros o sino un radio
  player Team_Player[]
  game Game[]
}

model Team_Player {
  id Int @id @default(autoincrement())
  player Player @relation(fields: [playerId], references: [id])
  playerId Int
  team Team @relation(fields: [teamId], references: [id])
  teamId Int
  assignedAt DateTime @default(now())
}

model Field {
  id Int @id @default(autoincrement())
  number Fields
  inicialTime String
  endTime String
  cost Int //Ver si se puede poner con signo de peso antes del Int
  image String
  description String
  timetable Field_Timetable[]
}

model TimeTable{
  id Int @id @default(autoincrement())
  day String
  hour String
  field Field_Timetable[]
}

model Game {
  id Int @id @default(autoincrement())
  team Team @relation(fields: [teamId], references: [id])
  teamId Int
  field_timetable Field_Timetable @relation(fields: [field_timetableId], references: [id])
  field_timetableId Int
}

model Field_Timetable {
  id Int @id @default(autoincrement())
  field Field @relation(fields: [fieldId], references: [id])
  fieldId Int
  timetable TimeTable @relation(fields: [timetableId], references: [id])
  timetableId Int
  game Game[]
}

enum Position {
  GOALKEEPER
  DEFENDER
  MIDFIELDER
  ATTACKER
}

enum Stars {
  ONE
  TWO
  THREE
  FOUR
  FIVE
}

enum Fields {
  ONE
  TWO
  THREE
}
